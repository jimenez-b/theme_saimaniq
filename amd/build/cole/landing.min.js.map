{"version":3,"file":"landing.min.js","sources":["../../src/cole/landing.js"],"sourcesContent":["/* eslint-disable linebreak-style */\r\n// Code adapted from theme_quizzer\r\n// converted from jQuery into an ESM module\r\n\r\n/**\r\n * Function to check the status of the element provided\r\n * @param {object} element element to be tested\r\n */\r\nfunction singleCheck(element) {\r\n    if (element.checked == true) {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = false;\r\n        } else {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n        }\r\n}\r\n\r\n/**\r\n * Function to check both\r\n */\r\nfunction bothCheck() {\r\n    if (document.querySelector('input#instructions_verification').checked == true &&\r\n        document.querySelector('input#copyrightnotice').checked == true) {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = false;\r\n        } else {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n        }\r\n}\r\n/**\r\n * Function to check modals\r\n * @param {object} statusModals status of the modals\r\n */\r\nfunction checkSingle(statusModals) {\r\n    if (statusModals.copyrightModal == 1 && statusModals.termsModal == 1) {\r\n        singleCheck(statusModals.where);\r\n    } else {\r\n        // eslint-disable-next-line no-alert\r\n        window.alert('You need to read both the Copyright and the Terms and Conditions');\r\n        statusModals.where.checked = false;\r\n    }\r\n}\r\n\r\n/**\r\n * Function to check modals\r\n * @param {object} statusModals status of the modals\r\n */\r\nfunction checkSingle2(statusModals) {\r\n    if (statusModals.copyrightModal != 1 || statusModals.termsModal != 1) {\r\n        // eslint-disable-next-line no-alert\r\n        window.alert('You need to read both the Copyright and the Terms and Conditions');\r\n        statusModals.where.checked = false;\r\n    }\r\n}\r\n\r\n/**\r\n * Function to check modals\r\n * @param {object} statusModals status of the modals\r\n * @param {object} element element to be tested\r\n */\r\nfunction modalClose(statusModals, element) {\r\n    if (element.id == 'copyright-modal') {\r\n        statusModals.copyrightModal = 1;\r\n    }\r\n    if (element.id == 'terms-modal') {\r\n        statusModals.termsModal = 1;\r\n    }\r\n}\r\n\r\nexport const init = () => {\r\n    document.querySelector(\"body#page-mod-quiz-view div#intro p\").classList.add('d-none');\r\n};\r\n\r\nexport const bolder = () => {\r\n    let selector = document.querySelectorAll('div.box.quizinfo p');\r\n    selector.forEach((paragraph) => {\r\n        paragraph.innerHTML = '<strong>'+\r\n                                paragraph.innerText.substr(0, paragraph.innerText.indexOf(':')+1)+\r\n                              '</strong>'+\r\n                                paragraph.innerText.substr(paragraph.innerText.indexOf(':')+1);\r\n    });\r\n};\r\n\r\nexport const checkboxEnabler = (instructions, copyright) => {\r\n    // First, we disable the button\r\n    document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n    let statusModals = {\r\n        copyrightModal: 0,\r\n        termsModal: 0,\r\n        where: ''\r\n    };\r\n    if (instructions !== \"\" && copyright !== \"\") {\r\n        document.querySelector('input#instructions_verification').addEventListener(\"click\", bothCheck);\r\n        document.querySelector('input#copyrightnotice').addEventListener(\"click\", bothCheck);\r\n        // It is to be rendered\r\n        let selectorCloser = document.querySelectorAll('button.saimaniq-close-modal');\r\n        selectorCloser.forEach((closerModal) => {\r\n            closerModal.addEventListener(\"click\", () => {\r\n                modalClose(statusModals, closerModal.closest('.saimaniq-modal-box'));\r\n            });\r\n        });\r\n\r\n        let selector = document.querySelector('input#copyrightnotice');\r\n        selector.addEventListener(\"click\", () => {\r\n            statusModals.where = selector;\r\n            checkSingle2(statusModals);\r\n        });\r\n    } else {\r\n        // We check if instructions is to be rendered by config\r\n        if (instructions !== \"\") {\r\n            // It is to be rendered\r\n            let selector = document.querySelector('input#instructions_verification');\r\n            selector.addEventListener(\"click\", () => {\r\n                singleCheck(selector);\r\n            });\r\n        }\r\n        if (copyright !== \"\") {\r\n            // It is to be rendered\r\n            let selectorCloser = document.querySelectorAll('button.saimaniq-close-modal');\r\n            selectorCloser.forEach((closerModal) => {\r\n                closerModal.addEventListener(\"click\", () => {\r\n                    modalClose(statusModals, closerModal.closest('.saimaniq-modal-box'));\r\n                });\r\n            });\r\n\r\n            let selector = document.querySelector('input#copyrightnotice');\r\n            selector.addEventListener(\"click\", () => {\r\n                statusModals.where = selector;\r\n                checkSingle(statusModals);\r\n            });\r\n        }\r\n    }\r\n};"],"names":["singleCheck","element","checked","document","querySelector","disabled","bothCheck","modalClose","statusModals","id","copyrightModal","termsModal","_exports","init","classList","add","bolder","querySelectorAll","forEach","paragraph","innerHTML","innerText","substr","indexOf","checkboxEnabler","instructions","copyright","where","addEventListener","closerModal","closest","selector","window","alert","checkSingle2","checkSingle"],"mappings":"qEAQA,SAASA,YAAYC,SACM,GAAnBA,QAAQC,QACJC,SAASC,cAAc,6CAA6CC,UAAW,EAE/EF,SAASC,cAAc,6CAA6CC,UAAW,CAE3F,CAKA,SAASC,YACoE,GAArEH,SAASC,cAAc,mCAAmCF,SACC,GAA3DC,SAASC,cAAc,yBAAyBF,QAC5CC,SAASC,cAAc,6CAA6CC,UAAW,EAE/EF,SAASC,cAAc,6CAA6CC,UAAW,CAE3F,CAgCA,SAASE,WAAWC,aAAcP,SACZ,mBAAdA,QAAQQ,KACRD,aAAaE,eAAiB,GAEhB,eAAdT,QAAQQ,KACRD,aAAaG,WAAa,EAElC,uHAIEC,SAAAC,KAFkBA,KAChBV,SAASC,cAAc,uCAAuCU,UAAUC,IAAI,SAAS,EAWvFH,SAAAI,OARoBA,KACHb,SAASc,iBAAiB,sBAChCC,SAASC,YACdA,UAAUC,UAAY,WACED,UAAUE,UAAUC,OAAO,EAAGH,UAAUE,UAAUE,QAAQ,KAAK,GACjE,YACEJ,UAAUE,UAAUC,OAAOH,UAAUE,UAAUE,QAAQ,KAAK,EAAE,GACxF,EAoDJX,SAAAY,gBAjD6BA,CAACC,aAAcC,aAE1CvB,SAASC,cAAc,6CAA6CC,UAAW,EAC/E,IAAIG,aAAe,CACfE,eAAgB,EAChBC,WAAY,EACZgB,MAAO,IAEX,GAAqB,KAAjBF,cAAqC,KAAdC,UAAkB,CACzCvB,SAASC,cAAc,mCAAmCwB,iBAAiB,QAAStB,WACpFH,SAASC,cAAc,yBAAyBwB,iBAAiB,QAAStB,WAErDH,SAASc,iBAAiB,+BAChCC,SAASW,cACpBA,YAAYD,iBAAiB,SAAS,KAClCrB,WAAWC,aAAcqB,YAAYC,QAAQ,uBAAuB,GACtE,IAGN,IAAIC,SAAW5B,SAASC,cAAc,yBACtC2B,SAASH,iBAAiB,SAAS,KAC/BpB,aAAamB,MAAQI,SAzDjC,SAAsBvB,cACiB,GAA/BA,aAAaE,gBAAkD,GAA3BF,aAAaG,aAEjDqB,OAAOC,MAAM,oEACbzB,aAAamB,MAAMzB,SAAU,EAErC,CAoDYgC,CAAa1B,aAAa,GAElC,KAAO,CAEH,GAAqB,KAAjBiB,aAAqB,CAErB,IAAIM,SAAW5B,SAASC,cAAc,mCACtC2B,SAASH,iBAAiB,SAAS,KAC/B5B,YAAY+B,SAAS,GAE7B,CACA,GAAkB,KAAdL,UAAkB,CAEGvB,SAASc,iBAAiB,+BAChCC,SAASW,cACpBA,YAAYD,iBAAiB,SAAS,KAClCrB,WAAWC,aAAcqB,YAAYC,QAAQ,uBAAuB,GACtE,IAGN,IAAIC,SAAW5B,SAASC,cAAc,yBACtC2B,SAASH,iBAAiB,SAAS,KAC/BpB,aAAamB,MAAQI,SA9FrC,SAAqBvB,cACkB,GAA/BA,aAAaE,gBAAkD,GAA3BF,aAAaG,WACjDX,YAAYQ,aAAamB,QAGzBK,OAAOC,MAAM,oEACbzB,aAAamB,MAAMzB,SAAU,EAErC,CAuFgBiC,CAAY3B,aAAa,GAEjC,CACJ,EACF"}