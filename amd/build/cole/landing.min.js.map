{"version":3,"file":"landing.min.js","sources":["../../src/cole/landing.js"],"sourcesContent":["/* eslint-disable linebreak-style */\r\n// Code adapted from theme_quizzer\r\n// converted from jQuery into an ESM module\r\n\r\n/**\r\n * Function to check the status of the element provided\r\n * @param {object} element element to be tested\r\n */\r\nfunction singleCheck(element) {\r\n    if (element.checked == true) {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = false;\r\n        } else {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n        }\r\n}\r\n\r\n/**\r\n * Function to check both\r\n */\r\nfunction bothCheck() {\r\n    if (document.querySelector('input#instructions_verification').checked == true &&\r\n        document.querySelector('input#copyrightnotice').checked == true) {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = false;\r\n        } else {\r\n            document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n        }\r\n}\r\n/**\r\n * Function to check modals\r\n * @param {object} statusModals status of the modals\r\n */\r\nfunction checkSingle(statusModals) {\r\n    window.console.log(statusModals.where);\r\n    if (statusModals.copyrightModal == 1 && statusModals.termsModal == 1) {\r\n        singleCheck(statusModals.where);\r\n    } else {\r\n        // eslint-disable-next-line no-alert\r\n        window.alert('You need to read both the Copyright and the Terms and Conditions');\r\n        statusModals.where.checked = false;\r\n    }\r\n}\r\n\r\n/**\r\n * Function to check modals\r\n * @param {object} statusModals status of the modals\r\n * @param {object} element element to be tested\r\n */\r\nfunction modalClose(statusModals, element) {\r\n    if (element.id == 'copyright-modal') {\r\n        statusModals.copyrightModal = 1;\r\n    }\r\n    if (element.id == 'terms-modal') {\r\n        statusModals.termsModal = 1;\r\n    }\r\n    window.console.log(`copyright modal is '${statusModals.copyrightModal}'`);\r\n    window.console.log(`terms modal is '${statusModals.termsModal}'`);\r\n}\r\n\r\nexport const init = () => {\r\n    document.querySelector(\"body#page-mod-quiz-view div#intro p\").classList.add('d-none');\r\n};\r\n\r\nexport const checkboxEnabler = (instructions, copyright) => {\r\n    // First, we disable the button\r\n    document.querySelector('.quizstartbuttondiv button[type=\"submit\"]').disabled = true;\r\n    let statusModals = {\r\n        copyrightModal: 0,\r\n        termsModal: 0,\r\n        where: ''\r\n    };\r\n    window.console.log(`copyright modal is '${statusModals.copyrightModal}'`);\r\n    window.console.log(`terms modal is '${statusModals.termsModal}'`);\r\n    if (instructions !== \"\" && copyright !== \"\") {\r\n        document.querySelector('input#instructions_verification').addEventListener(\"click\", bothCheck);\r\n        document.querySelector('input#copyrightnotice').addEventListener(\"click\", bothCheck);\r\n    } else {\r\n        // We check if instructions is to be rendered by config\r\n        if (instructions !== \"\") {\r\n            // It is to be rendered\r\n            let selector = document.querySelector('input#instructions_verification');\r\n            selector.addEventListener(\"click\", () => {\r\n                singleCheck(selector);\r\n            });\r\n        }\r\n        if (copyright !== \"\") {\r\n            // It is to be rendered\r\n            let selectorCloser = document.querySelectorAll('button.saimaniq-close-modal');\r\n            selectorCloser.forEach((closerModal) => {\r\n                closerModal.addEventListener(\"click\", () => {\r\n                    modalClose(statusModals, closerModal.closest('.saimaniq-modal-box'));\r\n                });\r\n            });\r\n\r\n            let selector = document.querySelector('input#copyrightnotice');\r\n            selector.addEventListener(\"click\", () => {\r\n                statusModals.where = selector;\r\n                checkSingle(statusModals);\r\n            });\r\n        }\r\n    }\r\n};"],"names":["singleCheck","element","checked","document","querySelector","disabled","bothCheck","_exports","init","classList","add","checkboxEnabler","instructions","copyright","statusModals","copyrightModal","termsModal","where","window","console","log","addEventListener","selector","querySelectorAll","forEach","closerModal","id","modalClose","closest","alert","checkSingle"],"mappings":"qEAQA,SAASA,YAAYC,SACM,GAAnBA,QAAQC,QACJC,SAASC,cAAc,6CAA6CC,UAAW,EAE/EF,SAASC,cAAc,6CAA6CC,UAAW,CAE3F,CAKA,SAASC,YACoE,GAArEH,SAASC,cAAc,mCAAmCF,SACC,GAA3DC,SAASC,cAAc,yBAAyBF,QAC5CC,SAASC,cAAc,6CAA6CC,UAAW,EAE/EF,SAASC,cAAc,6CAA6CC,UAAW,CAE3F,uGAkCEE,SAAAC,KAFkBA,KAChBL,SAASC,cAAc,uCAAuCK,UAAUC,IAAI,SAAS,EAyCvFH,SAAAI,gBAtC6BA,CAACC,aAAcC,aAE1CV,SAASC,cAAc,6CAA6CC,UAAW,EAC/E,IAAIS,aAAe,CACfC,eAAgB,EAChBC,WAAY,EACZC,MAAO,IAIX,GAFAC,OAAOC,QAAQC,IAAI,uBAAuBN,aAAaC,mBACvDG,OAAOC,QAAQC,IAAI,mBAAmBN,aAAaE,eAC9B,KAAjBJ,cAAqC,KAAdC,UACvBV,SAASC,cAAc,mCAAmCiB,iBAAiB,QAASf,WACpFH,SAASC,cAAc,yBAAyBiB,iBAAiB,QAASf,eACvE,CAEH,GAAqB,KAAjBM,aAAqB,CAErB,IAAIU,SAAWnB,SAASC,cAAc,mCACtCkB,SAASD,iBAAiB,SAAS,KAC/BrB,YAAYsB,SAAS,GAE7B,CACA,GAAkB,KAAdT,UAAkB,CAEGV,SAASoB,iBAAiB,+BAChCC,SAASC,cACpBA,YAAYJ,iBAAiB,SAAS,MAzCtD,SAAoBP,aAAcb,SACZ,mBAAdA,QAAQyB,KACRZ,aAAaC,eAAiB,GAEhB,eAAdd,QAAQyB,KACRZ,aAAaE,WAAa,GAE9BE,OAAOC,QAAQC,IAAI,uBAAuBN,aAAaC,mBACvDG,OAAOC,QAAQC,IAAI,mBAAmBN,aAAaE,cACvD,CAiCoBW,CAAWb,aAAcW,YAAYG,QAAQ,uBAAuB,GACtE,IAGN,IAAIN,SAAWnB,SAASC,cAAc,yBACtCkB,SAASD,iBAAiB,SAAS,KAC/BP,aAAaG,MAAQK,SAhErC,SAAqBR,cACjBI,OAAOC,QAAQC,IAAIN,aAAaG,OACG,GAA/BH,aAAaC,gBAAkD,GAA3BD,aAAaE,WACjDhB,YAAYc,aAAaG,QAGzBC,OAAOW,MAAM,oEACbf,aAAaG,MAAMf,SAAU,EAErC,CAwDgB4B,CAAYhB,aAAa,GAEjC,CACJ,EACF"}